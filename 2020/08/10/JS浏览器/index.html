<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>JS浏览器 | 黑刀的个人博客</title>
  <meta name="keywords" content=" 前端 , JavaScript ">
  <meta name="description" content="JS浏览器 | 黑刀的个人博客">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="所有笔记源于 https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1J4411877m  基础知识JUnit是一个Java语言的单元测试框架，Unit有它自己的JUnit扩展生态圈，多数Java的开发环境都已经集成了JUnit作为单元测试的工具。 Junit测试是程序员测试，即所谓白盒测试，因为程序员知道被测试的软件如何（How）完成功能和完成什么样（What）的功能。Junit是">
<meta property="og:type" content="article">
<meta property="og:title" content="Javaweb开发">
<meta property="og:url" content="http://yoursite.com/2020/09/08/Javaweb%E5%BC%80%E5%8F%91/index.html">
<meta property="og:site_name" content="黑刀的个人博客">
<meta property="og:description" content="所有笔记源于 https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1J4411877m  基础知识JUnit是一个Java语言的单元测试框架，Unit有它自己的JUnit扩展生态圈，多数Java的开发环境都已经集成了JUnit作为单元测试的工具。 Junit测试是程序员测试，即所谓白盒测试，因为程序员知道被测试的软件如何（How）完成功能和完成什么样（What）的功能。Junit是">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://images-1259064069.cos.ap-guangzhou.myqcloud.com/images/image-20200908205354234.png">
<meta property="article:published_time" content="2020-09-08T12:11:47.000Z">
<meta property="article:modified_time" content="2020-09-10T06:02:43.202Z">
<meta property="article:author" content="黑刀">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Note">
<meta property="article:tag" content="Javaweb">
<meta property="article:tag" content="web开发">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://images-1259064069.cos.ap-guangzhou.myqcloud.com/images/image-20200908205354234.png">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 4.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
</div>


<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>黑刀</span>
</div>

<div class="icon">
    
        
        <a title="github" href="https://github.com/BlckKn1fe" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
        <a title="email" href="mailto:lding1003@gmail.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
        <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=553658519&site=qq&menu=yes" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-qq"></use>
                </svg>
            
        </a>
        
    
        
        <a title="neteasemusic" href="https://music.163.com/#/user/home?id=121733025" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-neteasemusic"></use>
                </svg>
            
        </a>
        
    
</div>




<ul>
    <li><div class="all active" data-rel="全部文章">全部文章<small>(24)</small></div></li>
    
        
            
            <li><div data-rel="Java">Java<small>(7)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="前端">前端<small>(10)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="设计模式">设计模式<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="网络协议">网络协议<small>(2)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Linux">Linux<small>(3)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="MySQL">MySQL<small>(1)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a  class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="24">
<input type="hidden" id="yelog_site_word_count" value="93.2k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
            <li><a target="_blank" href="https://flowermushroom.github.io">花蘑菇</a></li>
            
            <li><a target="_blank" href="https://www.yeliulee.com/">琉璃</a></li>
            
            <li><a target="_blank" href="https://nightrainlemon.github.io/">夜雨柠檬</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>服务器</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>前端</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>设计模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>网络协议</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>BOM</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CSS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>DOM</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HTML</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JavaScript</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Javaweb</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JVM</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MySQL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Note</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>TCP</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>UDP</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>web开发</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a  class="全部文章 Java "
           href="/2020/09/08/Javaweb%E5%BC%80%E5%8F%91/"
           data-tag="Java,Note,Javaweb,web开发"
           data-author="" >
            <span class="post-title" title="Javaweb开发">Javaweb开发</span>
            <span class="post-date" title="2020-09-08 20:11:47">2020/09/08</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020/09/03/DOM-BOM%E6%93%8D%E4%BD%9C/"
           data-tag="前端,JavaScript,DOM,BOM"
           data-author="" >
            <span class="post-title" title="DOM/BOM操作">DOM/BOM操作</span>
            <span class="post-date" title="2020-09-03 08:14:08">2020/09/03</span>
        </a>
        
        <a  class="全部文章 Linux "
           href="/2020/09/03/%E4%B8%80%E5%A4%A9%E4%B8%80%E4%B8%AALinux%E6%8C%87%E4%BB%A4/"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="一天一个Linux指令">一天一个Linux指令</span>
            <span class="post-date" title="2020-09-03 08:13:58">2020/09/03</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020/08/10/JS%E6%B5%8F%E8%A7%88%E5%99%A8/"
           data-tag="前端,JavaScript"
           data-author="" >
            <span class="post-title" title="JS浏览器">JS浏览器</span>
            <span class="post-date" title="2020-08-10 00:11:49">2020/08/10</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020/08/04/HTML-CSS%E6%A1%88%E4%BE%8B%E5%9B%9B/"
           data-tag="前端,CSS,HTML"
           data-author="" >
            <span class="post-title" title="HTML/CSS案例四">HTML/CSS案例四</span>
            <span class="post-date" title="2020-08-04 18:20:56">2020/08/04</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020/07/27/HTML-CSS%E6%A1%88%E4%BE%8B%E4%B8%89%EF%BC%88%E5%93%81%E4%BC%98%E8%B4%AD%EF%BC%89/"
           data-tag="前端,CSS,HTML"
           data-author="" >
            <span class="post-title" title="HTML/CSS案例三（品优购）">HTML/CSS案例三（品优购）</span>
            <span class="post-date" title="2020-07-27 08:58:05">2020/07/27</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020/07/21/H5-C3%E6%8F%90%E9%AB%98/"
           data-tag="前端,CSS,HTML"
           data-author="" >
            <span class="post-title" title="H5/C3提高">H5/C3提高</span>
            <span class="post-date" title="2020-07-21 11:40:31">2020/07/21</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020/07/11/JS%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"
           data-tag="前端,JavaScript"
           data-author="" >
            <span class="post-title" title="JS快速入门">JS快速入门</span>
            <span class="post-date" title="2020-07-11 05:02:30">2020/07/11</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020/07/07/HTML-CSS%E6%A1%88%E4%BE%8B%E4%BA%8C/"
           data-tag="前端,CSS,HTML"
           data-author="" >
            <span class="post-title" title="HTML/CSS案例二">HTML/CSS案例二</span>
            <span class="post-date" title="2020-07-07 02:01:25">2020/07/07</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020/07/04/HTML-CSS%E6%A1%88%E4%BE%8B%E4%B8%80/"
           data-tag="前端,CSS,HTML"
           data-author="" >
            <span class="post-title" title="HTML/CSS案例一">HTML/CSS案例一</span>
            <span class="post-date" title="2020-07-04 23:51:25">2020/07/04</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020/06/28/CSS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/"
           data-tag="前端,CSS"
           data-author="" >
            <span class="post-title" title="CSS基础笔记">CSS基础笔记</span>
            <span class="post-date" title="2020-06-28 01:51:40">2020/06/28</span>
        </a>
        
        <a  class="全部文章 MySQL "
           href="/2020/06/19/MySQL%E5%9F%BA%E7%A1%80/"
           data-tag="Note,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL基础">MySQL基础</span>
            <span class="post-date" title="2020-06-19 15:04:54">2020/06/19</span>
        </a>
        
        <a  class="全部文章 Linux "
           href="/2020/06/14/Ubuntu%E9%85%8D%E7%BD%AE/"
           data-tag="MySQL,Linux"
           data-author="" >
            <span class="post-title" title="Ubuntu配置">Ubuntu配置</span>
            <span class="post-date" title="2020-06-14 10:52:25">2020/06/14</span>
        </a>
        
        <a  class="全部文章 Linux "
           href="/2020/06/14/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E5%9D%91/"
           data-tag="Linux,服务器"
           data-author="" >
            <span class="post-title" title="虚拟机的坑">虚拟机的坑</span>
            <span class="post-date" title="2020-06-14 10:52:25">2020/06/14</span>
        </a>
        
        <a  class="全部文章 网络协议 "
           href="/2020/06/13/Java%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E6%A1%88%E4%BE%8B/"
           data-tag="Java,TCP,网络协议"
           data-author="" >
            <span class="post-title" title="Java上传文件案例">Java上传文件案例</span>
            <span class="post-date" title="2020-06-13 09:54:25">2020/06/13</span>
        </a>
        
        <a  class="全部文章 网络协议 "
           href="/2020/06/12/Java%E8%81%8A%E5%A4%A9%E6%A1%88%E4%BE%8B/"
           data-tag="Java,网络协议,UDP"
           data-author="" >
            <span class="post-title" title="Java聊天案例">Java聊天案例</span>
            <span class="post-date" title="2020-06-12 16:16:04">2020/06/12</span>
        </a>
        
        <a  class="全部文章 设计模式 "
           href="/2020/06/10/%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88Singleton%EF%BC%89/"
           data-tag="Note,设计模式"
           data-author="" >
            <span class="post-title" title="单例设计模式（Singleton）">单例设计模式（Singleton）</span>
            <span class="post-date" title="2020-06-10 16:40:22">2020/06/10</span>
        </a>
        
        <a  class="全部文章 Java "
           href="/2020/06/07/JVM%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/"
           data-tag="Java,Note,JVM"
           data-author="" >
            <span class="post-title" title="JVM基本原理">JVM基本原理</span>
            <span class="post-date" title="2020-06-07 08:25:43">2020/06/07</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2020/05/26/HTML%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/"
           data-tag="前端,HTML"
           data-author="" >
            <span class="post-title" title="HTML基础笔记">HTML基础笔记</span>
            <span class="post-date" title="2020-05-26 03:16:36">2020/05/26</span>
        </a>
        
        <a  class="全部文章 Java "
           href="/2020/05/21/Java-Note-P5-%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/"
           data-tag="Java,Note"
           data-author="" >
            <span class="post-title" title="Java Note P5 (黑马程序员)">Java Note P5 (黑马程序员)</span>
            <span class="post-date" title="2020-05-21 19:57:31">2020/05/21</span>
        </a>
        
        <a  class="全部文章 Java "
           href="/2020/03/05/Java-Note-P4-%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/"
           data-tag="Java,Note"
           data-author="" >
            <span class="post-title" title="Java Note P4 (黑马程序员)">Java Note P4 (黑马程序员)</span>
            <span class="post-date" title="2020-03-05 17:40:06">2020/03/05</span>
        </a>
        
        <a  class="全部文章 Java "
           href="/2019/11/18/Java-Note-P3-%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/"
           data-tag="Java,Note"
           data-author="" >
            <span class="post-title" title="Java Note P3 (黑马程序员)">Java Note P3 (黑马程序员)</span>
            <span class="post-date" title="2019-11-18 12:43:23">2019/11/18</span>
        </a>
        
        <a  class="全部文章 Java "
           href="/2019/10/15/Java-Note-P2-%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/"
           data-tag="Java,Note"
           data-author="" >
            <span class="post-title" title="Java Note P2 (黑马程序员）">Java Note P2 (黑马程序员）</span>
            <span class="post-date" title="2019-10-15 23:39:14">2019/10/15</span>
        </a>
        
        <a  class="全部文章 Java "
           href="/2019/10/09/Java-Note-P1-%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/"
           data-tag="Java,Note"
           data-author="" >
            <span class="post-title" title="Java Note P1 (黑马程序员)">Java Note P1 (黑马程序员)</span>
            <span class="post-date" title="2019-10-09 00:33:50">2019/10/09</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-JS浏览器" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">JS浏览器</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="前端">前端</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color3">前端</a>
            
            <a class="color1">JavaScript</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2020-09-10 14:02:43'>2020-08-10 00:11</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:5.3k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#各种对象"><span class="toc-text">各种对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#window"><span class="toc-text">window</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#navigator"><span class="toc-text">navigator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#screen"><span class="toc-text">screen</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#location"><span class="toc-text">location</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#document"><span class="toc-text">document</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DOM"><span class="toc-text">DOM</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#获取-更新"><span class="toc-text">获取&#x2F;更新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#插入"><span class="toc-text">插入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#删除"><span class="toc-text">删除</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Navigation"><span class="toc-text">Navigation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Event"><span class="toc-text">Event</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collections-Node-Lists"><span class="toc-text">Collections &#x2F; Node Lists</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#操作表单"><span class="toc-text">操作表单</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#获取值"><span class="toc-text">获取值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#提交表单"><span class="toc-text">提交表单</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#操作文件"><span class="toc-text">操作文件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ajax"><span class="toc-text">Ajax</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#请求"><span class="toc-text">请求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#响应"><span class="toc-text">响应</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#readyState"><span class="toc-text">readyState</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#异步"><span class="toc-text">异步</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#setTimeOut"><span class="toc-text">setTimeOut</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#setInterval"><span class="toc-text">setInterval</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#promise"><span class="toc-text">promise</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多个promise同时执行"><span class="toc-text">多个promise同时执行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#async-await"><span class="toc-text">async &#x2F; await</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-4 i,
    .toc-level-4 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>这里笔记内容都是参考廖雪峰对于 JavaScript 教程而进行有针对性的提炼的</p>
<p><a href="https://www.liaoxuefeng.com/wiki/1022910821149312/" target="_blank" rel="noopener">https://www.liaoxuefeng.com/wiki/1022910821149312/</a></p>
<p>有部分内容来自菜鸟教程</p>
<p><a href="https://www.runoob.com/ajax/ajax-tutorial.html" target="_blank" rel="noopener">https://www.runoob.com/ajax/ajax-tutorial.html</a></p>
</blockquote>
<p>目前主流的浏览器分这么几种：</p>
<ul>
<li>IE 6~11：国内用得最多的IE浏览器，历来对W3C标准支持差。<strong>从IE10开始支持ES6标准；</strong></li>
<li>Chrome: Google 出品的基于 Webkit 内核浏览器，内置了非常强悍的 JavaScript 引擎——V8。由于 Chrome一经安装就时刻保持自升级，所以不用管它的版本，最新版早就支持ES6了；</li>
<li>Safari: Apple 的 Mac 系统自带的基于 Webkit 内核的浏览器，从OS X 10.7 Lion自带的6.1版本开始支持ES6，目前最新的 OS X 10.11 El Capitan自带的 Safari 版本是9.x，早已支持ES6；</li>
<li>Firefox: Mozilla 自己研制的Gecko内核和JavaScript引擎 OdinMonkey。早期的Firefox按版本发布，后来终于聪明地学习 Chrome 的做法进行自升级，时刻保持最新；</li>
<li>移动设备上目前iOS和Android两大阵营分别主要使用 Apple 的 Safari 和 Google 的 Chrome，由于两者都是Webkit 核心，结果 HTML5 首先在手机上全面普及（桌面绝对是 Microsoft 拖了后腿），对 JavaScript 的标准支持也很好，最新版本均支持ES6。</li>
</ul>
<h1 id="各种对象"><a href="#各种对象" class="headerlink" title="各种对象"></a>各种对象</h1><p>JavaScript可以获取浏览器提供的很多对象，并进行操作。（这里应该就是 BOM了，全称 Browser Object Model）</p>
<h2 id="window"><a href="#window" class="headerlink" title="window"></a>window</h2><p><code>window</code>对象有<code>innerWidth</code>和<code>innerHeight</code>属性，可以获取浏览器窗口的内部宽度和高度。内部宽高是指除去菜单栏、工具栏、边框等占位元素后，用于显示网页的净宽高。还有一个<code>outerWidth</code>和<code>outerHeight</code>属性，可以获取浏览器窗口的整个宽高。</p>
<p>兼容性：IE&lt;=8不支持。</p>
<h2 id="navigator"><a href="#navigator" class="headerlink" title="navigator"></a>navigator</h2><p><code>navigator</code>对象表示浏览器的信息，最常用的属性包括：</p>
<ul>
<li>navigator.appName：浏览器名称；</li>
<li>navigator.appVersion：浏览器版本；</li>
<li>navigator.language：浏览器设置的语言；</li>
<li>navigator.platform：操作系统类型；</li>
<li>navigator.userAgent：浏览器设定的<code>User-Agent</code>字符串。</li>
<li>…</li>
</ul>
<p><strong><em>请注意</em></strong>，<code>navigator</code>的信息可以很容易地被用户修改，所以 JavaScript 读取的值不一定是正确的。</p>
<h2 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h2><ul>
<li>screen.width：屏幕宽度，以像素为单位；</li>
<li>screen.height：屏幕高度，以像素为单位；</li>
<li>screen.colorDepth：返回颜色位数，如8、16、24。</li>
</ul>
<h2 id="location"><a href="#location" class="headerlink" title="location"></a>location</h2><p>因为 location 理解成网站访问的 “地址” 即可</p>
<p><code>location</code>对象表示当前页面的URL信息。例如，一个完整的URL：</p>
<pre><code>http://www.example.com:8080/path/index.html?a=1&amp;b=2#TOP</code></pre><p>可以用<code>location.href</code>获取。要获得URL各个部分的值，可以这么写：</p>
<pre><code>location.protocol; // &#39;http&#39;
location.host; // &#39;www.example.com&#39;
location.port; // &#39;8080&#39;
location.pathname; // &#39;/path/index.html&#39;
location.search; // &#39;?a=1&amp;b=2&#39;
location.hash; // &#39;TOP&#39;</code></pre><p>要加载一个新页面，可以调用<code>location.assign()</code>。如果要重新加载当前页面，调用<code>location.reload()</code>方法非常方便。注意这里的 assign() 好像是针对当前的 url 来说的！</p>
<h2 id="document"><a href="#document" class="headerlink" title="document"></a>document</h2><p><code>document</code>对象表示当前页面。由于HTML在浏览器中以DOM形式表示为树形结构，<code>document</code>对象就是整个DOM树的根节点。</p>
<p><code>document</code>的<code>title</code>属性是从HTML文档中的<code>&lt;title&gt;xxx&lt;/title&gt;</code>读取的，但是可以动态改变</p>
<pre><code>document.title = &#39;努力学习JavaScript!&#39;;</code></pre><p><code>document</code>对象提供的<code>getElementById()</code>和<code>getElementsByTagName()</code>可以按ID获得一个DOM节点和按Tag名称获得一组DOM节点</p>
<pre><code>var drinks = document.getElementsByTagName(&#39;dt&#39;);</code></pre><p><code>document</code>对象还有一个<code>cookie</code>属性，可以获取当前页面的Cookie。</p>
<h1 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h1><p>DOM 全称 <strong>D</strong>ocument <strong>O</strong>bject <strong>M</strong>odel，DOM 的定义如下：</p>
<blockquote>
<p>*”The W3C Document Object Model (DOM) is a platform and language-neutral interface that allows programs and scripts to dynamically access and update the content, structure, and style of a document.”*</p>
</blockquote>
<p>主要学习 HTML DOM，这东西用一句话概括就是：<strong>The HTML DOM is a standard for how to get, change, add, or delete HTML elements.</strong></p>
<h2 id="获取-更新"><a href="#获取-更新" class="headerlink" title="获取/更新"></a>获取/更新</h2><p>这个 Element 其实代表的是 DOM 这个 Tree 中的一个 Element Node</p>
<pre><code class="javascript">var node = document.getElementById();
node.value;</code></pre>
<p>还可以通过：</p>
<pre><code class="javascript">document.getElementsByTagName()
document.getElementsByClassName()</code></pre>
<p>获取到这个 DOM 节点之后可以做很多操作，比如<strong>修改其内容</strong></p>
<pre><code class="javascript">// 获取&lt;p id=&quot;p-id&quot;&gt;...&lt;/p&gt;
var p = document.getElementById(&#39;p-id&#39;);
// 设置文本为abc:
p.innerHTML = &#39;ABC&#39;; // &lt;p id=&quot;p-id&quot;&gt;ABC&lt;/p&gt;</code></pre>
<p>用 <code>innerHTML</code> 时要注意，是否需要写入HTML。如果写入的字符串是通过网络拿到了，要注意对字符编码来避免XSS攻击。</p>
<p>第二种是修改 <code>innerText</code> 或 <code>textContent</code> 属性，这样可以自动对字符串进行HTML编码，保证无法设置任何HTML标签：</p>
<pre><code class="javascript">// 获取&lt;p id=&quot;p-id&quot;&gt;...&lt;/p&gt;
var p = document.getElementById(&#39;p-id&#39;);
// 设置文本:
p.innerText = &#39;&lt;script&gt;alert(&quot;Hi&quot;)&lt;/script&gt;&#39;;
// HTML被自动编码，无法设置一个&lt;script&gt;节点:
// &lt;p id=&quot;p-id&quot;&gt;&amp;lt;script&amp;gt;alert(&quot;Hi&quot;)&amp;lt;/script&amp;gt;&lt;/p&gt;</code></pre>
<p><code>innerText</code> 不返回隐藏元素的文本，而 <code>textContent</code>返回所有文本。</p>
<p>通过 DOM 还能<strong>修改 CSS 样式</strong>：</p>
<blockquote>
<p><a href="https://www.w3schools.com/jsref/dom_obj_style.asp" target="_blank" rel="noopener">https://www.w3schools.com/jsref/dom_obj_style.asp</a></p>
</blockquote>
<pre><code class="javascript"> 获取&lt;p id=&quot;p-id&quot;&gt;...&lt;/p&gt;
var p = document.getElementById(&quot;p-id&quot;);
// 设置CSS:
p.style.color = &quot;#ff0000&quot;;
p.style.fontSize = &quot;20px&quot;;
p.style.paddingTop = &quot;2em&quot;;</code></pre>
<p>还能 DOM 操作修改图片：</p>
<pre><code class="javascript">document.getElementById(&quot;myImage&quot;).src = &quot;landscape.jpg&quot;;</code></pre>
<h2 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h2><p>当<strong>节点为空</strong>，例如，<code>&lt;div&gt;&lt;/div&gt;</code>，那么，直接使用<code>innerHTML = &#39;&lt;span&gt;child&lt;/span&gt;&#39;</code>就可以修改DOM节点的内容，相当于“插入”了新的DOM节点。如果这个<strong>DOM节点不是空的</strong>，那就不能这么做，因为<code>innerHTML</code>会直接替换掉原来的所有子节点。</p>
<p>有两个办法可以插入新的节点。一个是使用<code>appendChild</code>，把一个子节点添加到父节点的最后一个子节点。</p>
<pre><code class="javascript">var
    js = document.getElementById(&#39;js&#39;),
    list = document.getElementById(&#39;list&#39;);
list.appendChild(js);</code></pre>
<p>还可以<strong>创建一个新的节点</strong>：</p>
<pre><code class="javascript">var
    list = document.getElementById(&#39;list&#39;),
    haskell = document.createElement(&#39;p&#39;);
haskell.id = &#39;haskell&#39;;
haskell.innerText = &#39;Haskell&#39;;
list.appendChild(haskell);</code></pre>
<p><strong>动态创建一个节点</strong>然后添加到DOM树中，可以实现很多功能。举个例子，动态地给文档添加了新的CSS定义：</p>
<pre><code class="javascript">var d = document.createElement(&#39;style&#39;);
d.setAttribute(&#39;type&#39;, &#39;text/css&#39;);
d.innerHTML = &#39;p { color: red }&#39;;
document.getElementsByTagName(&#39;head&#39;)[0].appendChild(d);</code></pre>
<p>还可以插在具体的某一个元素的前面，就不展开写了：</p>
<pre><code class="javascript">parentElement.insertBefore(newElement, referenceElement);</code></pre>
<h2 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h2><p>删除有俩办法，第一个办法是<strong>先获取到要删除的 Node：</strong></p>
<pre><code class="javascript">var elmnt = document.getElementById(&quot;p1&quot;);
elmnt.remove();</code></pre>
<p>但是老的浏览器会不支持，需要用父级 Node 去删除子级 Node，所以最最最好的办法就是这样：</p>
<pre><code class="javascript">child.parentNode.removeChild(child);  // W3C 官方给出的</code></pre>
<p>注意到删除后的节点虽然不在文档树中了，但其实它还在内存中，可以随时再次被添加到别的位置，remove 会把被删除的 Node 返回。</p>
<p>当我们用如下代码删除子节点时：</p>
<pre><code class="javascript">var parent = document.getElementById(&#39;parent&#39;);
parent.removeChild(parent.children[0]);
parent.removeChild(parent.children[1]); // &lt;-- 浏览器报错</code></pre>
<p>浏览器报错：<code>parent.children[1]</code>不是一个有效的节点。原因就在于，当<code>&lt;p&gt;First&lt;/p&gt;</code>节点被删除后，<code>parent.children</code>的节点数量已经从2变为了1，索引<code>[1]</code>已经不存在了。</p>
<p>因此，删除多个节点时，要注意<code>children</code>属性时刻都在变化。</p>
<h2 id="Navigation"><a href="#Navigation" class="headerlink" title="Navigation"></a>Navigation</h2><p><img src="https://images-1259064069.cos.ap-guangzhou.myqcloud.com/images/image-20200810221004551.png" alt="image-20200810221004551"></p>
<p>因为 DOM 其实是一个<strong>树状结构</strong>，所以每一个 Element 其实是看做一个 Node，然后一个 Node 有它的 parent，有 sibling 等等：</p>
<ul>
<li><code>parentNode</code></li>
<li><code>childNodes[*nodenumber*]</code></li>
<li><code>firstChild</code></li>
<li><code>lastChild</code></li>
<li><code>nextSibling</code></li>
<li><code>previousSibling</code></li>
</ul>
<p>下面这俩用来获取根节点</p>
<ul>
<li><code>document.body</code> - The body of the document  // 只获取 Body 标签部分</li>
<li><code>document.documentElement</code> - The full document  // 从头到尾</li>
</ul>
<p>The <code>nodeName</code> property specifies the name of a node.</p>
<ul>
<li>nodeName is read-only</li>
<li>nodeName of an element node is the same as the tag name</li>
<li>nodeName of an attribute node is the attribute name</li>
<li>nodeName of a text node is always #text</li>
<li>nodeName of the document node is always #document</li>
</ul>
<p>The <code>nodeValue</code> property specifies the value of a node.</p>
<ul>
<li>nodeValue for element nodes is <code>null</code></li>
<li>nodeValue for text nodes is the text itself</li>
<li>nodeValue for attribute nodes is the attribute value</li>
</ul>
<p>The <code>nodeType</code> property is read only. It returns the type of a node.</p>
<p><img src="https://images-1259064069.cos.ap-guangzhou.myqcloud.com/images/image-20200810163241510.png" alt="image-20200810163241510"></p>
<h2 id="Event"><a href="#Event" class="headerlink" title="Event"></a>Event</h2><p>这个事件非常的关键，让网页动起来就靠它了！有很多很多的 event，先贴一个连接来：</p>
<blockquote>
<p><a href="https://www.w3schools.com/jsref/dom_obj_event.asp" target="_blank" rel="noopener">https://www.w3schools.com/jsref/dom_obj_event.asp</a></p>
</blockquote>
<p>有很多很多的 Event，比如鼠标点击 <code>onclick</code> ，其后面可以跟一个 function，或者直接对 element 进行修改：</p>
<pre><code class="html">&lt;h1 onclick=&quot;this.innerHTML = &#39;Ooops!&#39;&quot;&gt;Click on this text!&lt;/h1&gt;</code></pre>
<p>或者：</p>
<pre><code class="html">&lt;h1 onclick=&quot;changeText(this)&quot;&gt;Click on this text!&lt;/h1&gt;

&lt;script&gt;
function changeText(id) {
  id.innerHTML = &quot;Ooops!&quot;;
}</code></pre>
<p>再或者：</p>
<pre><code class="html">&lt;button onclick=&quot;displayDate()&quot;&gt;Try it&lt;/button&gt;</code></pre>
<p>还有在网页一加载的时候就可以执行的 event: <code>onload</code> and <code>onunload</code> events，只要某个东西一加载，事件就开始执行；</p>
<p>还有 <code>onchange</code> ，就是当某个 element 修改之后会执行，比如在输入框里，输入完所有内容变大写；</p>
<p>还有 onmouseover 和 onmouseout ，鼠标经过会执行事件；</p>
<p>还有 onmousedown 和 onmouseup，这俩一般一起使用，鼠标点下去一个事件，松开之后又一个</p>
<p>还有一种正确的添加 event 的姿势，可以无限的给一个 element 进行添加，甚至可以添加同一种类型的 event：</p>
<pre><code class="javascript">element.addEventListener(event, function, useCapture);</code></pre>
<p>第一个参数为时间类型，参考上面的链接；第二个是传入一个 function 的名字。这里的 function 可以是匿名函数</p>
<pre><code class="javascript">element.addEventListener(&quot;click&quot;, function(){ alert(&quot;Hello World!&quot;); });</code></pre>
<p>或者</p>
<pre><code class="javascript">element.addEventListener(&quot;click&quot;, myFunction);

function myFunction() {
  alert (&quot;Hello World!&quot;);
}</code></pre>
<p>再或者</p>
<pre><code class="javascript">element.addEventListener(&quot;click&quot;, function(){ myFunction(p1, p2); });</code></pre>
<p>最后这个情况是用一个匿名函数去 call 一个需要传参的函数，这样似乎好像是就没办法 remove 这个 listener 了…</p>
<p>然后说一个很关键的参数，就是第三个参数</p>
<p>事件的运作模式分为 Bubbling 和 Capturing，一句话简单概括的话就是：Bubbling  是先从里到外，而 Capturing 是从外到里。当两个 element 都被添加相同的 event 的时候，事件同时触发的话，bubbling 是从里层盒子先执行，然后是外层，capturing 的话就是反过来。</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;style&gt;
        #myDiv1,
        #myDiv2 {
            background-color: coral;
            padding: 50px;
        }

        #myP1,
        #myP2 {
            background-color: white;
            font-size: 20px;
            border: 1px solid;
            padding: 20px;
        }
    &lt;/style&gt;
    &lt;meta content=&quot;text/html; charset=utf-8&quot; http-equiv=&quot;Content-Type&quot;&gt;
&lt;/head&gt;

&lt;body&gt;

    &lt;h2&gt;JavaScript addEventListener()&lt;/h2&gt;

    &lt;div id=&quot;myDiv1&quot;&gt;
        &lt;h2&gt;Bubbling:&lt;/h2&gt;
        &lt;p id=&quot;myP1&quot;&gt;Click me!&lt;/p&gt;
    &lt;/div&gt;&lt;br&gt;

    &lt;div id=&quot;myDiv2&quot;&gt;
        &lt;h2&gt;Capturing:&lt;/h2&gt;
        &lt;p id=&quot;myP2&quot;&gt;Click me!&lt;/p&gt;
    &lt;/div&gt;

    &lt;script&gt;
        document.getElementById(&quot;myP1&quot;).addEventListener(&quot;click&quot;, function () {
            alert(&quot;You clicked the white element!&quot;);
        }, false);

        document.getElementById(&quot;myDiv1&quot;).addEventListener(&quot;click&quot;, function () {
            alert(&quot;You clicked the orange element!&quot;);
        }, false);

        document.getElementById(&quot;myP2&quot;).addEventListener(&quot;click&quot;, function () {
            alert(&quot;You clicked the white element!&quot;);
        }, true);

        document.getElementById(&quot;myDiv2&quot;).addEventListener(&quot;click&quot;, function () {
            alert(&quot;You clicked the orange element!&quot;);
        }, true);
    &lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre>
<p>这个例子非常好！</p>
<p>有些老版本这个没法用，就要用  <code>attachEvent()</code> 和 <code>detachEvent()</code> （参数第一个是 event，似乎要写详细的 event 名字，第二个传 function）</p>
<h2 id="Collections-Node-Lists"><a href="#Collections-Node-Lists" class="headerlink" title="Collections / Node Lists"></a>Collections / Node Lists</h2><p>The <code>getElementsByTagName()</code> method returns an <code>HTMLCollection</code> object.</p>
<p>The <code>length</code> property defines <strong>the number of elements</strong> in an <code>HTMLCollection</code></p>
<p><strong>An HTMLCollection is NOT an array!</strong></p>
<p>An HTMLCollection may look like an array, but it is not.</p>
<p>A <code>NodeList</code> object is almost the same as an <code>HTMLCollection</code> object.</p>
<p><strong>All browsers</strong> return a <strong>NodeList</strong> object for the property  <code>childNodes</code>. </p>
<p><strong>Most browsers</strong> return a <strong>NodeList</strong> object for the method  <code>querySelectorAll()</code>.</p>
<p><strong>不同点：</strong></p>
<p><strong>HTMLCollection items can be accessed by their name, id, or index number.</strong></p>
<p><strong>NodeList items can only be accessed by their index number.</strong></p>
<p><strong>Only the NodeList object can contain attribute nodes and text nodes.</strong></p>
<p>第三个很关键！只有 NodeList 才能包含属性节点和文本节点！</p>
<h1 id="操作表单"><a href="#操作表单" class="headerlink" title="操作表单"></a>操作表单</h1><p>用JavaScript操作表单和操作DOM是类似的，因为表单本身也是DOM树。</p>
<p>不过表单的输入框、下拉框等可以接收用户输入，所以用JavaScript来操作表单，可以获得用户输入的内容，或者对一个输入框设置新的内容。</p>
<h2 id="获取值"><a href="#获取值" class="headerlink" title="获取值"></a>获取值</h2><p>如果我们获得了一个<code>&lt;input&gt;</code>节点的引用，就可以直接调用<code>value</code>获得对应的用户输入值：</p>
<pre><code class="javascript">// &lt;input type=&quot;text&quot; id=&quot;email&quot;&gt;
var input = document.getElementById(&#39;email&#39;);
input.value; // &#39;用户输入的值&#39;</code></pre>
<p>这种方式<strong>可以应用于</strong> <code>text</code>、<code>password</code>、<code>hidden</code>以及<code>select</code>。</p>
<p>对于<strong>单选框和复选框</strong>，<code>value</code>属性返回的永远是HTML预设的值，而我们需要获得的实际是用户是否“勾上了”选项，所以应该用<code>checked</code>判断</p>
<p>设置值就不摘录了…</p>
<h2 id="提交表单"><a href="#提交表单" class="headerlink" title="提交表单"></a>提交表单</h2><p>第一个办法是用给 button 一个 onclick 事件，然后直接调用一个function 来提交表单，但是这个办法扰乱了浏览器对form的正常提交。浏览器默认点击<code>&lt;button type=&quot;submit&quot;&gt;</code>时提交表单，或者用户在最后一个输入框按回车键。因此，第二种方式是响应<code>&lt;form&gt;</code>本身的<code>onsubmit</code>事件，在提交form时作修改：</p>
<pre><code class="html">&lt;!-- HTML --&gt;
&lt;form id=&quot;test-form&quot; onsubmit=&quot;return checkForm()&quot;&gt;
    &lt;input type=&quot;text&quot; name=&quot;test&quot;&gt;
    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
&lt;/form&gt;

&lt;script&gt;
function checkForm() {
    var form = document.getElementById(&#39;test-form&#39;);
    // 可以在此修改form的input...
    // 继续下一步:
    return true;
}
&lt;/script&gt;</code></pre>
<p>安全考虑，提交表单时不传输明文口令，而是口令的MD5，同时为了美观考虑，可以像下面这么写（思路参考即可，实际会用 Ajax 来传。）</p>
<pre><code class="html">&lt;!-- HTML --&gt;
&lt;form id=&quot;login-form&quot; method=&quot;post&quot; onsubmit=&quot;return checkForm()&quot;&gt;
    &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot;&gt;
    &lt;input type=&quot;password&quot; id=&quot;input-password&quot;&gt;  &lt;!-- 注意这里没 name 的属性 --&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;md5-password&quot; name=&quot;password&quot;&gt;
    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
&lt;/form&gt;

&lt;script&gt;
function checkForm() {
    var input_pwd = document.getElementById(&#39;input-password&#39;);
    var md5_pwd = document.getElementById(&#39;md5-password&#39;);
    // 把用户输入的明文变为MD5:
    md5_pwd.value = toMD5(input_pwd.value);
    // 继续下一步:
    return true;
}
&lt;/script&gt;</code></pre>
<p>没有 <code>name</code>属性的 <code>&lt;input&gt;</code>的数据不会被提交！</p>
<h1 id="操作文件"><a href="#操作文件" class="headerlink" title="操作文件"></a>操作文件</h1><p>在HTML表单中，可以上传文件的唯一控件就是 <code>&lt;input type=&quot;file&quot;&gt;</code></p>
<p>当一个表单包含<code>&lt;input type=&quot;file&quot;&gt;</code> 时，表单的 <code>enctype</code>必须指定为 <code>multipart/form-data</code>，<code>method</code>必须指定为 <code>post</code>，浏览器才能正确编码并以 <code>multipart/form-data</code>格式发送表单的数据。出于安全考虑，浏览器只允许用户点击 <code>&lt;input type=&quot;file&quot;&gt;</code>来选择本地文件。</p>
<pre><code class="javascript">var f = document.getElementById(&#39;test-file-upload&#39;);
var filename = f.value; // &#39;C:\fakepath\test.png&#39;
if (!filename || !(filename.endsWith(&#39;.jpg&#39;) || filename.endsWith(&#39;.png&#39;) || filename.endsWith(&#39;.gif&#39;))) {
    alert(&#39;Can only upload image file.&#39;);
    return false;
}</code></pre>
<p>随着HTML5的普及，新增的File API允许JavaScript读取文件内容，获得更多的文件信息。</p>
<p>HTML5的File API提供了<code>File</code>和<code>FileReader</code>两个主要对象，可以获得文件信息并读取文件。</p>
<pre><code class="javascript">var
    fileInput = document.getElementById(&#39;test-image-file&#39;),
    info = document.getElementById(&#39;test-file-info&#39;),
    preview = document.getElementById(&#39;test-image-preview&#39;);
// 监听change事件:
fileInput.addEventListener(&#39;change&#39;, function () {
    // 清除背景图片:
    preview.style.backgroundImage = &#39;&#39;;
    // 检查文件是否选择:
    if (!fileInput.value) {
        info.innerHTML = &#39;没有选择文件&#39;;
        return;
    }
    // 获取File引用:
    var file = fileInput.files[0];
    // 获取File信息:
    info.innerHTML = &#39;文件: &#39; + file.name + &#39;&lt;br&gt;&#39; +
                     &#39;大小: &#39; + file.size + &#39;&lt;br&gt;&#39; +
                     &#39;修改: &#39; + file.lastModifiedDate;
    if (file.type !== &#39;image/jpeg&#39; &amp;&amp; file.type !== &#39;image/png&#39; &amp;&amp; file.type !== &#39;image/gif&#39;) {
        alert(&#39;不是有效的图片文件!&#39;);
        return;
    }
    // 读取文件:
    var reader = new FileReader();
    reader.onload = function(e) {
        var
            data = e.target.result; // &#39;data:image/jpeg;base64,/9j/4AAQSk...(base64编码)...&#39;            
        preview.style.backgroundImage = &#39;url(&#39; + data + &#39;)&#39;;
    };
    // 以DataURL的形式读取文件:
    reader.readAsDataURL(file);
});</code></pre>
<h1 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h1><p>Ajax 全称 Asynchronous Javascript And XML，最大的优点是在不重新加载整个页面的情况下，可以与服务器交换数据并更新部分网页内容。</p>
<p><img src="https://images-1259064069.cos.ap-guangzhou.myqcloud.com/images/image-20200812155743704.png" alt="image-20200812155743704"></p>
<p>基本实例结构：</p>
<pre><code class="html">&lt;div id=&quot;myDiv&quot;&gt;&lt;h2&gt;使用 AJAX 修改该文本内容&lt;/h2&gt;&lt;/div&gt;
&lt;button type=&quot;button&quot; onclick=&quot;loadXMLDoc()&quot;&gt;修改内容&lt;/button&gt;

&lt;head&gt;
&lt;script&gt;
function loadXMLDoc()
{
    .... AJAX 脚本执行 ...
}
&lt;/script&gt;
&lt;/head&gt;</code></pre>
<h2 id="请求"><a href="#请求" class="headerlink" title="请求"></a>请求</h2><p>简单的 GET 请求的代码实例：</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;script&gt;
function loadXMLDoc()
{
    var xmlhttp;
    if (window.XMLHttpRequest)
    {
        // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
        xmlhttp=new XMLHttpRequest();
    }
    else
    {
        // IE6, IE5 浏览器执行代码
        xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);
    }
    xmlhttp.onreadystatechange=function()
    {
        if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)
        {
            document.getElementById(&quot;myDiv&quot;).innerHTML=xmlhttp.responseText;
        }
    }
    xmlhttp.open(&quot;GET&quot;,&quot;/try/ajax/demo_get.php&quot;,true);
    xmlhttp.send();
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h2&gt;AJAX&lt;/h2&gt;
&lt;button type=&quot;button&quot; onclick=&quot;loadXMLDoc()&quot;&gt;请求数据&lt;/button&gt;
&lt;div id=&quot;myDiv&quot;&gt;&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>上面 GET 请求的这个 php 文件有自己写好的方法，会根据调用来返回适当的数据。open 方法有三个参数</p>
<ul>
<li>第一个为请求的类型</li>
<li>第二个为请求文件的在服务器的位置</li>
<li>第三个为是否异步</li>
</ul>
<p>如果希望通过 GET 方法发送信息，向 URL 添加信息：</p>
<pre><code class="javascript">xmlhttp.open(&quot;GET&quot;,&quot;/try/ajax/demo_get2.php?fname=Henry&amp;lname=Ford&quot;,true);
xmlhttp.send();</code></pre>
<h2 id="响应"><a href="#响应" class="headerlink" title="响应"></a>响应</h2><p>获取到服务器返回的信息的话使用 XMLHttpRequest 对象的 responseText 或 responseXML 属性。其中第一个就直接使用就可以，第二个的话需要先获取到 XML 对象：</p>
<blockquote>
<p>这里使用这个 xml 文件样本 <a href="https://www.runoob.com/try/demo_source/cd_catalog.xml" target="_blank" rel="noopener">点击查看</a></p>
</blockquote>
<pre><code class="javascript">xmlDoc=xmlhttp.responseXML;
txt=&quot;&quot;;
x=xmlDoc.getElementsByTagName(&quot;ARTIST&quot;);
for (i=0;i&lt;x.length;i++)
{
    txt=txt + x[i].childNodes[0].nodeValue + &quot;&lt;br&gt;&quot;;
}
document.getElementById(&quot;myDiv&quot;).innerHTML=txt;</code></pre>
<h2 id="readyState"><a href="#readyState" class="headerlink" title="readyState"></a>readyState</h2><p>当请求被发送到服务器时，我们需要执行一些基于响应的任务。每当 readyState 改变时，就会触发 onreadystatechange 事件。</p>
<p><img src="https://images-1259064069.cos.ap-guangzhou.myqcloud.com/images/image-20200812165931810.png" alt="image-20200812165931810"></p>
<p>0：请求未初始化（还没有调用 open()）。</p>
<p>1：请求已经建立，但是还没有发送（还没有调用 send()）。</p>
<p>2：请求已发送，正在处理中（通常现在可以从响应中获取内容头）。</p>
<p>3：请求在处理中；通常响应中已有部分数据可用了，但是服务器还没有完成响应的生成。</p>
<p>4：响应已完成；您可以获取并使用服务器的响应了。</p>
<p>这个 onreadystateChange 要进行函数重写，根据 XMLHTTPRequest 的状态和 status 的情况来决定下一步要对页面进行什么样的操作。</p>
<p><strong>注意：</strong> onreadystatechange 事件被触发 4 次（0 - 4）, 分别是： 0-1、1-2、2-3、3-4，对应着 readyState 的每个变化。</p>
<h1 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h1><p>异步就是不同的步调（时间）去执行一些东西，主要是通过设置时间来进行一些操作</p>
<h2 id="setTimeOut"><a href="#setTimeOut" class="headerlink" title="setTimeOut"></a>setTimeOut</h2><p>设定多少秒之后执行回调函数：</p>
<pre><code class="javascript">setTimeOut(() =&gt; {
    console.log(&quot;一秒后执行&quot;);
}, 1000);</code></pre>
<p>这个 TimeOut 是可以被提前取消的，使用 <code>clearTimeOut</code> 来实现：</p>
<pre><code class="javascript">var timer = setTimeOut(() =&gt; {
    console.log(&quot;一秒后执行&quot;);
}, 1000);

clearTimeOut(timer);</code></pre>
<h2 id="setInterval"><a href="#setInterval" class="headerlink" title="setInterval"></a>setInterval</h2><p>这个是设定每隔多少秒调用一次回调函数</p>
<pre><code class="javascript">var interval = setInterval(() =&gt; {
    let date = new Date();
    console.log(`${date.getHours()}:${date.getMinutes()}`);
}, 1000)</code></pre>
<p>同样，这个也是可以终止的：</p>
<pre><code class="javascript">clearInterval(interval);</code></pre>
<h2 id="promise"><a href="#promise" class="headerlink" title="promise"></a>promise</h2><p>promise 允许我们创建自定义的异步操作，一般它用来执行比较耗时的操作，首先先创造一个 promise</p>
<pre><code class="javascript">var promise = new Promise((resolve) =&gt; {
  setTimeout(() =&gt; {
    resolve(&quot;执行成功&quot;);
  }, 2000);
});
</code></pre>
<p><code>then</code> 用来获取到 promise 执行之后的结果，其内容为 resolve 内的内容：</p>
<pre><code class="javascript">promise.then(value =&gt; console.log(value));</code></pre>
<p>promise 还可以捕获异常，在创建 promise 的时候需要多添加一个参数 <code>reject</code> ：</p>
<pre><code class="javascript">var promise = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    reject(&quot;执行失败&quot;);
  }, 2000);
});

promise.catch((error) =&gt; console.log(error));
// promise.then((value) =&gt; console.log(value));</code></pre>
<p>上面如果执行失败的话，可以用 <code>catch</code> 来捕获异常</p>
<p>promise 的 then 可以链式调用，同时一般 catch 放在最后一个 then 的后面：</p>
<pre><code class="javascript">new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
        resolve(1);
    }, 1000);
})
    .then((value) =&gt; {
        console.log(value);
        return value + 10;
    })
    .then((value) =&gt; {
        console.log(value);
        return new Promise((resolve) =&gt; resolve(value + 20));
    })
    .then((value) =&gt; {
        console.log(value);
    })
    .catch((error) =&gt; {
        console.log(error);
    });</code></pre>
<p>以上出现 reject 或者抛出异常，都会被 catch 到。</p>
<h2 id="多个promise同时执行"><a href="#多个promise同时执行" class="headerlink" title="多个promise同时执行"></a>多个promise同时执行</h2><p>使用 Promise.all() 可以让多个 promise 同时执行，并且在最后返回一个大的 promise，然后会返回一个结果数组，分别对应每个 promise 返回的值。</p>
<pre><code class="javascript">&#39;use strict&#39;;
var p1 = new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
        resolve(1);
    }, 1000);
});

var p2 = new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
        resolve(2);
    }, 2000);
});

var p3 = new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
        resolve(3);
    }, 500);
});

Promise.all([p1, p2, p3]).then((values) =&gt; {
    console.log(values);  // [ 1, 2, 3 ]
});
</code></pre>
<h2 id="async-await"><a href="#async-await" class="headerlink" title="async / await"></a>async / await</h2><p>这俩是，且不完全是 promise 的语法糖：</p>
<pre><code class="javascript">&#39;use strict&#39;;
async function async1() {
    setTimeout(() =&gt; {
        console.log(&#39;async 1 执行完毕&#39;);
    }, 1000);
}

async1();</code></pre>
<p>await 必须在带 async 的函数中使用，使用期间使用 try / catch  来捕获异常：</p>
<pre><code class="javascript">&#39;use strict&#39;;
async function async1() {
    let result = await async2();
    try {
        let result2 = await async3();
    } catch (e) {
        console.log(e);
    }
    console.log(result);
}

async function async2() {
    return new Promise((resolve) =&gt; {
        setTimeout(() =&gt; {
            resolve(10);
        }, 1000);
    });
}

async function async3() {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            reject(&#39;执行出错&#39;);
        }, 500);
    });
}

async1();
</code></pre>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 lding1003@gmail.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>




    <div id="comments">
    <!-- 来必力City版安装代码 -->
    <div id="lv-container" data-id="city" data-uid="MTAyMC81MDU2Ni8yNzA0OQ==">
        <script type="text/javascript">
			(function(d, s) {
				var j, e = d.getElementsByTagName(s)[0];

				if (typeof LivereTower === 'function') { return; }

				j = d.createElement(s);
				window.livereOptions = {
					eagerLoading: true,
					scrollEventTargetSelector: '#post'
                }
				j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
				j.async = true;
				e.parentNode.insertBefore(j, e);
			})(document, 'script');
        </script>
        <noscript> 为正常使用来必力评论功能请激活JavaScript</noscript>
    </div>
    <!-- City版安装代码已完成 -->
</div>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2019-2020 黑刀
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
